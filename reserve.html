<!DOCTYPE html>
<html>
<head>
   <title>Make Reservation</title>
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>
<body>
 <div class="container">
  <div class="jumbotron"><h1 class="text-center"><span class="glyphicon glyphicon-fire"></span> Hot Plate Restaurant </h1>
            <hr>
            <h2 class="text-center">Current Reservations and Waiting List</h2>
            <div class="text-center">
                    <a href="/tables"><button type="button" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-list-alt"></span>&nbsp;View Tables</button></a>
                    <!-- <a href = "#"></a> -->
                
                <a href="/"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a></div>
        </div>
        <div>
            <div class="row">
                <div class = "col-lg-12">
                    <div class ="panel panel-default">
                        <div class = "panel-heading" ><h4>Make a Reservation</h4></div> 
                        <div class="panel-body" id = "formsection" >
                                <form role="form">
                                        <div class="form-group">
                                            <label for>Name</label>
                                                <input id="reserve_name" class="form-control" type="text" name="name">
                                                    </div>
                                                <div class="form-group">
                                                    <label for>Phone Number</label>
                                                <input id="reserve_phone" class="form-control" type="text" name="phone">
                                                </div>
                                                <div class="form-group">
                                                    <label for>Email</label>
                                                <input id="reserve_email" class="form-control" type="text" name="email">
                                            </div>
                                            <div class="form-group">
                                                <label for>Unique ID</label>
                                                <input id="reserve_uniqueID" class="form-control" type="text" name="id"></p>
                                            </div>
                        
                                                <button class="submit btn btn-lg btn-danger">Submit</button></p>
                                        </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>  
                   
                        <footer class="footer">
                            <div class="container">
                               <p>Control Panel</p> Clear Table | API Table Link | API Wait List
                               <p>
                                   
                               </p>
                            </div>
                        </footer>

                        <!--end main container-->
                        </div>  
                        <script type="text/javascript">
                            // Capture User Input
                            $(".submit").on("click", function(event){
                                event.preventDefault();
                                var newReservation = {
                                    customerName: $('#reserve_name').val().trim(),
                                    phoneNumber: $('#reserve_phone').val().trim(),
                                    customerEmail: $('#reserve_email').val().trim(),
                                    customerID: $('#reserve_uniqueID').val().trim()
                                };
                                console.log(newReservation);
                        
                                $.post("/api/tables", newReservation)
                                    .then(function(data) {
                                        console.log("reserve.html", data);
                                        alert("Your reservation has been submitted!");
                                    });
                                    $('#reserve_name').val("");
                                    $('#reserve_phone').val("");
                                    $('#reserve_email').val("");
                                    $('#reserve_uniqueID').val("");
                            });
                            </script>
    
                </body>
                </html>